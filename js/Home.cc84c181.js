import{n as e,m as s,h as a,E as t}from"./element-plus.74f8f849.js";import{f as n,b3 as o,b0 as r,p as l,a5 as u,a4 as c,o as i,h as d,j as m,$ as f,Z as p,X as h,ak as v,y as g,U as C,aj as k,W as S,Y as _}from"./vendor.121ac726.js";import{u as j}from"./user.87c72425.js";import{_ as x}from"./index.4bc41d5d.js";const y=n({name:"Header",setup(){const a=o(),t=r(),n=j(),c=l((()=>n.$state.userStatus));return{state:u({routeName:""}),currentRoute:l((()=>a.meta.name)),userInfo:c,handleLogOut:()=>{e.confirm("確定登出?","提示訊息",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{n.logOut(),t.push({name:"Login"}),s({type:"success",message:"已成功登出!"})})).catch((()=>{s({type:"info",message:"已取消"})}))}}}}),L={class:"header"},O={class:"route-name"},H={class:"flx horizontal v_center_end"},w={class:"user-status","data-space-right":"1rem"},I=v(" 變更密碼 "),N=v(" 登出 ");var R=x(y,[["render",function(e,s,n,o,r,l){const u=c("Avatar"),g=a,C=t;return i(),d("div",L,[m("h1",O,f(e.currentRoute),1),m("div",H,[m("span",w,[p(g,null,{default:h((()=>[p(u)])),_:1}),v(" "+f(e.userInfo.username),1)]),p(C,{class:"action",icon:"Lock",plain:""},{default:h((()=>[I])),_:1}),p(C,{class:"logout",plain:"",icon:"MagicStick",onClick:e.handleLogOut},{default:h((()=>[N])),_:1},8,["onClick"])])])}]]);const b=n({name:"Aside",setup(){const e=r(),s=u({routes:[],iconSets:["PieChart","List","ShoppingCartFull","UserFilled","Tools"]}),a=l((()=>e.options.routes)),t=g((()=>{var e;s.routes=null==(e=a.value.find((e=>"Home"===e.name)))?void 0:e.children}));return{state:s,pool:t,handleRouteChange:s=>{e.push({name:s})}}}}),z={class:"aside"},A=m("div",{class:"logo"},"No Code No Life",-1),T={class:"menu"},U=["onClick"],B={class:"flx horizontal v_center"};var E=x(b,[["render",function(e,s,t,n,o,r){const l=a;return i(),d("div",z,[A,m("nav",null,[m("ul",T,[(i(!0),d(C,null,k(e.state.routes,((s,a)=>{var t;return i(),d("li",{key:a,onClick:a=>e.handleRouteChange(s.name)},[m("div",B,[p(l,null,{default:h((()=>[(i(),S(_(e.state.iconSets[a])))])),_:2},1024),v(" "+f(null==(t=s.meta)?void 0:t.name),1)])],8,U)})),128))])])])}]]);const F=n({name:"Home",components:{Aside:E,Header:R},setup(){const e=j();return{state:u({title:"HOME View"}),init:g((async()=>{const s=JSON.parse(localStorage.getItem("userInfo"));await e.setUserStatus(s)}))}}}),M={class:"home el-customize"},$={class:"contents"};var J=x(F,[["render",function(e,s,a,t,n,o){const r=E,l=R,u=c("router-view");return i(),d("div",M,[p(r),m("div",$,[p(l),p(u)])])}]]);export{J as default};
